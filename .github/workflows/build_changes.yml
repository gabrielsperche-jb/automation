name: Listar Diretórios Alterados

on: [push]

jobs:
  listar-diretorios:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout do Repositório
        uses: actions/checkout@v2
        with:
          submodules: 'recursive'
          path: '/home/runner/work/automation/automation'

      - name: Listar Diretórios Modificados
        run: |
          diretórios=$(git diff --name-only --diff-filter=d faf920434dbde56a976423c0c3bfff29d87a2af3 | sed 's!/.*!!' | sort -u)
          if [ -z "$diretórios" ]; then
            echo "Não houve alterações em diretórios."
          else
            echo "As alterações foram feitas nos seguintes diretórios:"
            echo "$diretórios"
          fi